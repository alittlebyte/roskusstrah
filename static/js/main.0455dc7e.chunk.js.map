{"version":3,"sources":["store/store.js","components/Selector.js","components/App.js","index.js"],"names":["initState","repos","errMessage","store","createStore","state","action","type","payload","applyMiddleware","thunk","className","onChange","this","props","children","Component","Option","value","text","App","dataToState","e","target","id","setState","handleRepos","preventDefault","listRepos","name","progLang","spokenLang","stars","console","log","onSubmit","placeholder","status","statusText","map","repo","key","description","language","connect","usr","dispatch","axios","get","then","res","data","catch","err","errRepos","response","render","document","getElementById"],"mappings":"4PAUMA,EAAY,CACjBC,MAAO,GACPC,WAAW,IA4CGC,EALDC,aArBM,WAAgC,IAA/BC,EAA8B,uDAAtBL,EAAWM,EAAW,uCAClD,OAAOA,EAAOC,MACb,IAAK,aACJ,MAAO,CACNN,MAAOK,EAAOE,SAEhB,IAAK,YACJ,MAAM,CACLN,WAAYI,EAAOE,SAErB,QACC,OAAOH,KAYTI,YAAgBC,O,uKCjDf,OACC,4BAAQC,UAAU,WAAWC,SAAUC,KAAKC,MAAMF,UAChDC,KAAKC,MAAMC,c,GAJsBC,cAU7BC,OAAT,uKAEE,OACC,4BAAQC,MAAOL,KAAKC,MAAMI,OAAQL,KAAKC,MAAMK,UAHhD,GAAuCH,a,ICPjCI,E,kDACL,WAAYN,GAAO,IAAD,8BACjB,cAAMA,IAUPO,YAAc,SAAAC,GACVA,EAAEC,OAAOC,MAAM,EAAKnB,OACtB,EAAKoB,SAAL,eAAiBH,EAAEC,OAAOC,GAAKF,EAAEC,OAAOL,SAbxB,EAgBlBQ,YAAc,SAAAJ,GACbA,EAAEK,iBACF,EAAKb,MAAMc,UAAU,EAAKvB,QAf1B,EAAKA,MAAM,CACVwB,KAAK,cACLC,SAAS,GACTC,WAAW,GACXC,MAAM,IAPU,E,gEAsBjBnB,KAAKC,MAAMc,UAAUf,KAAKR,S,+BAK1B,OADA4B,QAAQC,IAAIrB,KAAKC,OAEhB,6BACC,0BAAMH,UAAU,aAAawB,SAAUtB,KAAKa,aAC3C,2BAAOU,YAAY,sJAA8BZ,GAAG,OAAOjB,KAAK,OAAOK,SAAUC,KAAKQ,cACtF,2BAAOd,KAAK,SAASW,MAAM,6DAE5B,6BACC,qMACA,4BACGL,KAAKC,MAAMZ,WACuB,MAAjCW,KAAKC,MAAMZ,WAAWmC,OACtB,wNACA,oEAAYxB,KAAKC,MAAMZ,WAAWmC,OAAlC,KAA4CxB,KAAKC,MAAMZ,WAAWoC,YACnEzB,KAAKC,MAAMb,MAAMsC,KAAI,SAAAC,GACrB,OACC,wBAAIC,IAAKD,EAAKhB,IACb,6BAAMgB,EAAKX,MACX,6BAAMW,EAAKE,aACX,6BAAMF,EAAKG,qB,GA9CH3B,aA+DH4B,eALS,SAAAvC,GAAK,MAAK,CACjCJ,MAAOI,EAAMJ,MACbC,WAAYG,EAAMH,cAGoB,CAAC0B,UFtBf,SAAAiB,GAAG,OAAI,SAAAC,GAC/B,OA1CmBzC,EA0CDwC,EAzCXE,IAAMC,IAAN,uCAA0C3C,EAAMwB,KAAhD,YAyCgBoB,MAAK,SAAAC,GAAG,OAAIJ,EA9B5B,CACNvC,KAAM,aACNC,QA4BqD0C,EAAIC,UAAQC,OAAM,SAAAC,GAAG,OAAIP,EAzB/D,SAAAO,GAChB,MAAO,CACN9C,KAAM,YACNC,QAAQ6C,GAsB+EC,CAASD,EAAIE,cA1CnF,IAAClD,KE+DLuC,CAAqCxB,GC9DpDoC,iBACC,kBAAC,IAAD,CAAUrD,MAAOA,GAChB,kBAAC,EAAD,OAEDsD,SAASC,eAAe,W","file":"static/js/main.0455dc7e.chunk.js","sourcesContent":["import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport axios from 'axios';\r\n\r\n//DB request\r\nconst fetchRepos = (state) => {\r\n\treturn axios.get(`https://api.github.com/users/${state.name}/repos`)\r\n}\r\n\r\n//initial state\r\nconst initState = {\r\n\trepos: [],\r\n\terrMessage:''\r\n}\r\n\r\n//actions\r\nconst loadRepos = request => {\r\n\treturn {\r\n\t\ttype: 'LOAD_REPOS',\r\n\t\tpayload:request\r\n\t}\r\n}\r\nconst errRepos = err => {\r\n\treturn {\r\n\t\ttype: 'ERR_REPOS',\r\n\t\tpayload:err\r\n\t}\r\n}\r\n\r\n//reducers\r\nconst reduceRepos = (state = initState, action) => {\r\n\tswitch(action.type){\r\n\t\tcase 'LOAD_REPOS':\r\n\t\t\treturn {\r\n\t\t\t\trepos: action.payload\r\n\t\t\t}\r\n\t\tcase 'ERR_REPOS':\r\n\t\t\treturn{\r\n\t\t\t\terrMessage: action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\n//action creators\r\nexport const listRepos = usr => dispatch => {\r\n\treturn fetchRepos(usr).then(res => dispatch(loadRepos(res.data))).catch(err => dispatch(errRepos(err.response)))\r\n}\r\n\r\n//store\r\nconst store = createStore(\r\n\treduceRepos, \r\n\tapplyMiddleware(thunk)\r\n);\r\n\r\nexport default store;","import React, { Component } from 'react';\r\n\r\nexport default class Selector extends Component{\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<select className=\"selector\" onChange={this.props.onChange}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</select>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSelector.Option = class Option extends Component{\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<option value={this.props.value}>{this.props.text}</option>\r\n\t\t)\r\n\t}\r\n}","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport { listRepos } from '../store/store.js'\nimport Selector from './Selector'\n\nclass App extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\n\t\tthis.state={\n\t\t\tname:'alittlebyte',\n\t\t\tprogLang:'',\n\t\t\tspokenLang:'',\n\t\t\tstars:''\n\t\t}\n\t}\n\n\tdataToState = e => {\n\t\tif(e.target.id in this.state)\n\t\t\tthis.setState({ [e.target.id]: e.target.value })\n\t}\n\n\thandleRepos = e => {\n\t\te.preventDefault()\n\t\tthis.props.listRepos(this.state)\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.props.listRepos(this.state)\n\t}\n\n\trender (){\n\t\tconsole.log(this.props)\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<form className='search-bar' onSubmit={this.handleRepos}>\n\t\t\t\t\t<input placeholder=\"Поиск по имени пользователя\" id=\"repo\" type='text' onChange={this.dataToState}/>\n\t\t\t\t\t<input type=\"submit\" value=\"Что-нибудь\" />\n\t\t\t\t</form>\n\t\t\t\t<div>\n\t\t\t\t\t<h4>Список доступных репозиториев:</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{(this.props.errMessage)\n\t\t\t\t\t\t\t?(this.props.errMessage.status === 404)\n\t\t\t\t\t\t\t\t?<li>Такого пользователя не существует!</li>\n\t\t\t\t\t\t\t\t:<li>Ошибка {this.props.errMessage.status}: {this.props.errMessage.statusText}</li>\n\t\t\t\t\t\t\t:this.props.repos.map(repo => {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<li key={repo.id}>\n\t\t\t\t\t\t\t\t\t\t<div>{repo.name}</div>\n\t\t\t\t\t\t\t\t\t\t<div>{repo.description}</div>\n\t\t\t\t\t\t\t\t\t\t<div>{repo.language}</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\trepos: state.repos,\n\terrMessage: state.errMessage\n})\n\nexport default connect(mapStateToProps,{listRepos})(App)","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './store/store.js';\n\nrender(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);"],"sourceRoot":""}