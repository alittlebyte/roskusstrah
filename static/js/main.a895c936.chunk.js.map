{"version":3,"sources":["store/store.js","components/Selector.js","components/App.js","index.js"],"names":["initState","repos","errMessage","store","createStore","state","action","type","payload","applyMiddleware","thunk","className","onChange","this","props","children","Component","Option","value","text","App","dataToState","e","target","id","setState","handleRepos","preventDefault","listRepos","repo","name","progLang","stars","onSubmit","placeholder","items","status","statusText","map","key","description","language","stargazers_count","connect","usr","dispatch","axios","get","then","res","data","catch","err","errRepos","response","render","document","getElementById"],"mappings":"4PAUMA,EAAY,CACjBC,MAAO,GACPC,WAAW,IA4CGC,EALDC,aArBM,WAAgC,IAA/BC,EAA8B,uDAAtBL,EAAWM,EAAW,uCAClD,OAAOA,EAAOC,MACb,IAAK,aACJ,MAAO,CACNN,MAAOK,EAAOE,SAEhB,IAAK,YACJ,MAAM,CACLN,WAAYI,EAAOE,SAErB,QACC,OAAOH,KAYTI,YAAgBC,O,uKCjDf,OACC,4BAAQC,UAAU,WAAWC,SAAUC,KAAKC,MAAMF,UAChDC,KAAKC,MAAMC,c,GAJsBC,cAU7BC,OAAT,uKAEE,OACC,4BAAQC,MAAOL,KAAKC,MAAMI,OAAQL,KAAKC,MAAMK,UAHhD,GAAuCH,a,ICPjCI,E,kDACL,WAAYN,GAAO,IAAD,8BACjB,cAAMA,IAUPO,YAAc,SAAAC,GACVA,EAAEC,OAAOC,MAAM,EAAKnB,OACtB,EAAKoB,SAAL,eAAiBH,EAAEC,OAAOC,GAAKF,EAAEC,OAAOL,SAbxB,EAgBlBQ,YAAc,SAAAJ,GACbA,EAAEK,iBACF,EAAKb,MAAMc,UAAU,EAAKvB,QAf1B,EAAKA,MAAM,CACVwB,KAAK,GACLC,KAAK,GACLC,SAAS,GACTC,MAAM,IAPU,E,gEAsBjBnB,KAAKC,MAAMc,UAAUf,KAAKR,S,+BAI1B,OACC,6BACC,0BAAMM,UAAU,aAAasB,SAAUpB,KAAKa,aAC3C,2BAAOQ,YAAY,gJAA6BV,GAAG,OAAOjB,KAAK,OAAOK,SAAUC,KAAKQ,cACrF,2BAAOd,KAAK,SAASW,MAAM,6DAE5B,6BACC,qMACA,4BACGL,KAAKC,MAAMb,MAAMkC,MAEhBtB,KAAKC,MAAMZ,WACuB,MAAjCW,KAAKC,MAAMZ,WAAWkC,OACtB,wNACA,oEAAYvB,KAAKC,MAAMZ,WAAWkC,OAAlC,KAA4CvB,KAAKC,MAAMZ,WAAWmC,YACnExB,KAAKC,MAAMb,MAAMkC,MAAMG,KAAI,SAAAT,GAC3B,OACC,wBAAIU,IAAKV,EAAKL,IACb,6BAAMK,EAAKC,MACX,6BAAMD,EAAKW,aACX,6BAAMX,EAAKY,UACX,6BAAMZ,EAAKa,sBAXd,iJ,GArCU1B,aAiEH2B,eALS,SAAAtC,GAAK,MAAK,CACjCJ,MAAOI,EAAMJ,MACbC,WAAYG,EAAMH,cAGoB,CAAC0B,UFxBf,SAAAgB,GAAG,OAAI,SAAAC,GAC/B,OA1CmBxC,EA0CDuC,EAzCXE,IAAMC,IAAN,uDAA0D1C,EAAMwB,KAAN,UAAcxB,EAAMwB,KAApB,YAAmC,6BAA7F,OAA2HxB,EAAMyB,KAAN,gBAAoBzB,EAAMyB,MAAO,IAA5J,OAAiKzB,EAAMoC,SAAN,oBAA4BpC,EAAMoC,UAAW,IAA9M,OAAmNpC,EAAM2B,MAAN,gBAAqB3B,EAAM2B,OAAQ,MAyCtOgB,MAAK,SAAAC,GAAG,OAAIJ,EA9B5B,CACNtC,KAAM,aACNC,QA4BqDyC,EAAIC,UAAQC,OAAM,SAAAC,GAAG,OAAIP,EAzB/D,SAAAO,GAChB,MAAO,CACN7C,KAAM,YACNC,QAAQ4C,GAsB+EC,CAASD,EAAIE,cA1CnF,IAACjD,KEiELsC,CAAqCvB,GChEpDmC,iBACC,kBAAC,IAAD,CAAUpD,MAAOA,GAChB,kBAAC,EAAD,OAEDqD,SAASC,eAAe,W","file":"static/js/main.a895c936.chunk.js","sourcesContent":["import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport axios from 'axios';\r\n\r\n//DB request\r\nconst fetchRepos = (state) => {\r\n\treturn axios.get(`https://api.github.com/search/repositories?q=${state.repo?`${state.repo} in:name`:'kuschat OR kusbox in:name'}${state.name?`+user:${state.name}`:''}${state.language?`+language:${state.language}`:''}${state.stars?`stars:${state.stars}`:''}`)\r\n}\r\n\r\n//initial state\r\nconst initState = {\r\n\trepos: [],\r\n\terrMessage:''\r\n}\r\n\r\n//actions\r\nconst loadRepos = request => {\r\n\treturn {\r\n\t\ttype: 'LOAD_REPOS',\r\n\t\tpayload:request\r\n\t}\r\n}\r\nconst errRepos = err => {\r\n\treturn {\r\n\t\ttype: 'ERR_REPOS',\r\n\t\tpayload:err\r\n\t}\r\n}\r\n\r\n//reducers\r\nconst reduceRepos = (state = initState, action) => {\r\n\tswitch(action.type){\r\n\t\tcase 'LOAD_REPOS':\r\n\t\t\treturn {\r\n\t\t\t\trepos: action.payload\r\n\t\t\t}\r\n\t\tcase 'ERR_REPOS':\r\n\t\t\treturn{\r\n\t\t\t\terrMessage: action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\n//action creators\r\nexport const listRepos = usr => dispatch => {\r\n\treturn fetchRepos(usr).then(res => dispatch(loadRepos(res.data))).catch(err => dispatch(errRepos(err.response)))\r\n}\r\n\r\n//store\r\nconst store = createStore(\r\n\treduceRepos, \r\n\tapplyMiddleware(thunk)\r\n);\r\n\r\nexport default store;","import React, { Component } from 'react';\r\n\r\nexport default class Selector extends Component{\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<select className=\"selector\" onChange={this.props.onChange}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</select>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSelector.Option = class Option extends Component{\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<option value={this.props.value}>{this.props.text}</option>\r\n\t\t)\r\n\t}\r\n}","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport { listRepos } from '../store/store.js'\nimport Selector from './Selector'\n\nclass App extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\n\t\tthis.state={\n\t\t\trepo:'',\n\t\t\tname:'',\n\t\t\tprogLang:'',\n\t\t\tstars:''\n\t\t}\n\t}\n\n\tdataToState = e => {\n\t\tif(e.target.id in this.state)\n\t\t\tthis.setState({ [e.target.id]: e.target.value })\n\t}\n\n\thandleRepos = e => {\n\t\te.preventDefault()\n\t\tthis.props.listRepos(this.state)\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.props.listRepos(this.state)\n\t}\n\n\trender (){\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<form className='search-bar' onSubmit={this.handleRepos}>\n\t\t\t\t\t<input placeholder=\"Поиск по имени репозитория\" id=\"repo\" type=\"text\" onChange={this.dataToState}/>\n\t\t\t\t\t<input type=\"submit\" value=\"Что-нибудь\" />\n\t\t\t\t</form>\n\t\t\t\t<div>\n\t\t\t\t\t<h4>Список доступных репозиториев:</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{!this.props.repos.items\n\t\t\t\t\t\t\t?<li>Список загружается...</li>\n\t\t\t\t\t\t\t:(this.props.errMessage)\n\t\t\t\t\t\t\t\t?(this.props.errMessage.status === 404)\n\t\t\t\t\t\t\t\t\t?<li>Такого пользователя не существует!</li>\n\t\t\t\t\t\t\t\t\t:<li>Ошибка {this.props.errMessage.status}: {this.props.errMessage.statusText}</li>\n\t\t\t\t\t\t\t\t:this.props.repos.items.map(repo => {\n\t\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t\t<li key={repo.id}>\n\t\t\t\t\t\t\t\t\t\t\t<div>{repo.name}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>{repo.description}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>{repo.language}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>{repo.stargazers_count}</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\t\t\n\t\t\t\t\t\t}\t\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = state => ({\n\trepos: state.repos,\n\terrMessage: state.errMessage\n})\n\nexport default connect(mapStateToProps,{listRepos})(App)","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './store/store.js';\n\nrender(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);"],"sourceRoot":""}